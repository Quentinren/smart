<div class="vigilance-info-container">
    <div class="table-responsive">
      <table mat-table [dataSource]="limitItems$ | async" class="limits-table">
        <!-- Status Column -->
        <ng-container matColumnDef="status">
          <th mat-header-cell *matHeaderCellDef></th>
          <td mat-cell *matCellDef="let item" (click)="toggleLimit(item.id)">
            <mat-icon class="status-icon" color="primary" *ngIf="item.checked">check_circle</mat-icon>
            <mat-icon class="status-icon status-unchecked" *ngIf="!item.checked">radio_button_unchecked</mat-icon>
          </td>
        </ng-container>
        
        <!-- ID Column -->
        <ng-container matColumnDef="id">
          <th mat-header-cell *matHeaderCellDef>{{ tableTitle }}</th>
          <td mat-cell *matCellDef="let item">{{ item.id }}</td>
        </ng-container>
        
        <!-- Side Column -->
        <ng-container matColumnDef="side">
          <th mat-header-cell *matHeaderCellDef>{{ applicationSide }}</th>
          <td mat-cell *matCellDef="let item">{{ item.side }}</td>
        </ng-container>
        
        <!-- Value Column -->
        <ng-container matColumnDef="value">
          <th mat-header-cell *matHeaderCellDef>{{ workImpact }}</th>
          <td mat-cell *matCellDef="let item">{{ item.value }}</td>
        </ng-container>
        
        <!-- Works Column -->
        <ng-container matColumnDef="works">
          <th mat-header-cell *matHeaderCellDef>{{ workImpact }}</th>
          <td mat-cell *matCellDef="let item">
            <mat-icon *ngIf="item.impactedWorks">engineering</mat-icon>
          </td>
        </ng-container>
        
        <!-- Interruptible Column -->
        <ng-container matColumnDef="interruptible">
          <th mat-header-cell *matHeaderCellDef>{{ interruptibleSupply }}</th>
          <td mat-cell *matCellDef="let item">
            <mat-icon *ngIf="item.interruptible">block</mat-icon>
          </td>
        </ng-container>
        
        <!-- Spread Column -->
        <ng-container matColumnDef="spread">
          <th mat-header-cell *matHeaderCellDef>{{ localizedSpread }}</th>
          <td mat-cell *matCellDef="let item">
            <mat-icon *ngIf="item.spread">trending_up</mat-icon>
          </td>
        </ng-container>
        
        <!-- Restriction Column -->
        <ng-container matColumnDef="restriction">
          <th mat-header-cell *matHeaderCellDef>{{ mutualizedRestriction }}</th>
          <td mat-cell *matCellDef="let item">
            <mat-icon *ngIf="item.restriction">warning</mat-icon>
          </td>
        </ng-container>
        
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
    </div>
    
    <div class="legend-container">
      <div class="legend-item">
        <div class="legend-icon">
          <mat-icon>build</mat-icon>
        </div>
        <div class="legend-text">Travaux Ã  petit impact</div>
      </div>
      <div class="legend-item">
        <div class="legend-icon">
          <mat-icon>engineering</mat-icon>
        </div>
        <div class="legend-text">Maintenance</div>
      </div>
    </div>
  </div>